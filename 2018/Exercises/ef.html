<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Entity Framework Code First | 2018 Sep</title>
    <meta name="description" content="In-Class Demos and Supporting Notes">
    
    
    <link rel="preload" href="/2018-Sep-In-Class/assets/css/0.styles.abb80fa8.css" as="style"><link rel="preload" href="/2018-Sep-In-Class/assets/js/app.93deae8d.js" as="script"><link rel="preload" href="/2018-Sep-In-Class/assets/js/7.628b27c2.js" as="script"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/5.24a89a26.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/3.2b4c7406.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/4.f3fc9155.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/6.1d538f7e.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/8.b7ddb0d4.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/9.5b5c1a54.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/10.656dec8c.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/11.894873f9.js">
    <link rel="stylesheet" href="/2018-Sep-In-Class/assets/css/0.styles.abb80fa8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/2018-Sep-In-Class/" class="home-link router-link-active"><!----> <span class="site-name">2018 Sep</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/2018-Sep-In-Class/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://dgilleland.github.io/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Teaching Schedule
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/2018-Sep-In-Class/1508/" class="nav-link">DMIT-1508 errata</a></div><div class="nav-item"><a href="/2018-Sep-In-Class/2018/" class="nav-link router-link-active">DMIT-2018 errata</a></div> <a href="https://github.com/dgilleland/2018-Sep-In-Class" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/2018-Sep-In-Class/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://dgilleland.github.io/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Teaching Schedule
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/2018-Sep-In-Class/1508/" class="nav-link">DMIT-1508 errata</a></div><div class="nav-item"><a href="/2018-Sep-In-Class/2018/" class="nav-link router-link-active">DMIT-2018 errata</a></div> <a href="https://github.com/dgilleland/2018-Sep-In-Class" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/2018-Sep-In-Class/2018/" class="sidebar-link">DMIT 2018 - Intermediate App Dev - Errata</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="entity-framework-code-first-crud-exercise-4-marks"><a href="#entity-framework-code-first-crud-exercise-4-marks" aria-hidden="true" class="header-anchor">#</a> Entity Framework - Code First CRUD Exercise (4 Marks)</h1> <p>Be aware that this is the first in a series of cumulative exercises. You must be prepared to complete each exercise in light of the possibility that any given exercise may depend on the <strong>correct</strong> implementation of previous exercises.</p> <h2 id="private-github-repo-only"><a href="#private-github-repo-only" aria-hidden="true" class="header-anchor">#</a> Private GitHub Repo Only</h2> <div class="tip custom-block"><p class="custom-block-title">NOTE:</p> <p>Place this work in your classroom private Exercise repository; a link to the repository can be found on the <a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer">Moodle Site<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for this course.</p></div> <h4 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h4> <p>Use the following names for the parts of your<br>
Create a new VS Solution called <code>GroceryListSolution</code>. Place two class projects into this solution called GroceryListSystem and GroceryList.Data, along with a web application called WebApp. GroceryList.Data will have 3 folder called Entities, DTOs and POCOs. GroceryListSystem will have 2 folders DAL and BLL. Add the NuGet package, EntityFramework, to your class libraries. Add references to your solution where needed/appropriate.</p> <h4 id="entities"><a href="#entities" aria-hidden="true" class="header-anchor">#</a> Entities</h4> <p>Create the database context and entity classes by adding an <strong>ADO.NET Entity Data Model</strong> using <em>Code First from database</em>. Create the entity classes in the Entity folder. Name the context class GroceryListContext. Use GroceryListDB as the connection string name. <code>[Required]</code>, and <code>[StringLength]</code> notations in your entities will not have error messages. You must place an ErrorMessage parameter within each notation such as that the message will be specific to the entity attribute.</p> <p>Add the following not mapping properties:</p> <ul><li>Customer: FullName: returns the customer full name as LastName, Firstname</li> <li>Customer: CityCustomer: returns the city and customer full name as City: LastName, Firstname</li> <li>Picker: FullName: returns the picker full name as LastName, Firstname</li> <li>Product: DescriptionUnitSize: returns the description and unitsize as Description (UnitSize)</li> <li>Store: CityLocation: returns the city and location as City:Location</li></ul> <p>! [GroceryList ERD] (./ef/grocerylist_erd.png)</p> <h4 id="context-class"><a href="#context-class" aria-hidden="true" class="header-anchor">#</a> Context Class</h4> <p>Move the <strong>Context class</strong> to the DAL folder from the Entities folder; alter the namespace to GroceryListSystem.DAL; and include any necessary using statements. Remove the Context class from the entity folder. Create an appropriate web connection string file pointing to the database GroceryList. Add the <code>&lt;context&gt;</code> tag in the web.config file under the <code>&lt;entityframe&gt;</code> tag. The context class is to be restricted to internal project access only.</p> <h4 id="bll-controller-classes"><a href="#bll-controller-classes" aria-hidden="true" class="header-anchor">#</a> BLL Controller Classes</h4> <p>Create <strong>BLL controller classes</strong> for the two entities: Category and Product. The classes will allow ODS access to methods. Both classses will have an appropriate List() and Get(int keyvalue) methods (exposed). The ProductController will have a method which will recieve an integer parameter representing a category and return all products within that category. The ProductController will implement Add(Product), Update(Product), Delete(Product) and Delete(int productid) methods. The overloaded Delete(int productid) will do the actual delete of the product record of the database.</p> <h4 id="web-page-query"><a href="#web-page-query" aria-hidden="true" class="header-anchor">#</a> Web Page: Query</h4> <p>Create a web page that will display the product data related to a supplied category. Use <strong>only ODS wired controls</strong> to handle the data. Categories should be displayed in a ordered drop down list. Display the ordered product data in a customized data control which obtains its input parameter value from the drop down list. Your display requires appropriate page title, labels and layout/formatting. You will need a button on your page to force a post back. This page <strong>must</strong> be accessiable by the site master menu.</p> <p>! [Sample query result] (./ef/ExerciseQuery.png)</p> <h4 id="web-page-crud"><a href="#web-page-crud" aria-hidden="true" class="header-anchor">#</a> Web Page: CRUD</h4> <p>Create a web page that will maintain the Product entity. You will be requried to insert, update or delete records to this entity. The Category data will be handled via an appropriate dropdownlist. <strong>Use a ODS wired ListView control</strong> to maintain the data. Appropriate formatting is required on the display lines. This page <strong>must</strong> be accessiable by the site master menu.</p> <p>! [ListView CRUD] (./ef/ExerciseCRUD.png)</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/16/2018, 10:03:57 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/2018-Sep-In-Class/assets/js/7.628b27c2.js" defer></script><script src="/2018-Sep-In-Class/assets/js/app.93deae8d.js" defer></script>
  </body>
</html>
