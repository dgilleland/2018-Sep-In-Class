<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Command Responsibility | 2018 Sep</title>
    <meta name="description" content="In-Class Demos and Supporting Notes">
    
    
    <link rel="preload" href="/2018-Sep-In-Class/assets/css/0.styles.abb80fa8.css" as="style"><link rel="preload" href="/2018-Sep-In-Class/assets/js/app.19eb8275.js" as="script"><link rel="preload" href="/2018-Sep-In-Class/assets/js/7.a29bec37.js" as="script"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/4.7bfe7288.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/2.90a804d4.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/3.63483c10.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/5.9646eb45.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/6.523e057a.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/8.4ead2ae5.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/9.df9e9f6c.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/10.4c5eb414.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/11.78c22d20.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/12.202ceccc.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/13.1717b84d.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/14.9a66fe53.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/15.215d144b.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/16.16e4692f.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/17.835118cd.js"><link rel="prefetch" href="/2018-Sep-In-Class/assets/js/18.76dd265e.js">
    <link rel="stylesheet" href="/2018-Sep-In-Class/assets/css/0.styles.abb80fa8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/2018-Sep-In-Class/" class="home-link router-link-active"><!----> <span class="site-name">2018 Sep</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/2018-Sep-In-Class/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://dgilleland.github.io/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Teaching Schedule
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/2018-Sep-In-Class/1508/" class="nav-link">DMIT-1508 errata</a></div><div class="nav-item"><a href="/2018-Sep-In-Class/2018/" class="nav-link router-link-active">DMIT-2018 errata</a></div> <a href="https://github.com/dgilleland/2018-Sep-In-Class" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/2018-Sep-In-Class/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://dgilleland.github.io/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Teaching Schedule
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/2018-Sep-In-Class/1508/" class="nav-link">DMIT-1508 errata</a></div><div class="nav-item"><a href="/2018-Sep-In-Class/2018/" class="nav-link router-link-active">DMIT-2018 errata</a></div> <a href="https://github.com/dgilleland/2018-Sep-In-Class" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/2018-Sep-In-Class/2018/" class="sidebar-link">DMIT 2018 - Intermediate App Dev - Errata</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/" class="sidebar-link">Customer Orders</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-SalesPage.html" class="sidebar-link">Sales Page</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-SelectedCustomer.html" class="sidebar-link">Selecting a Customer</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-EditForm.html" class="sidebar-link">Editing Customer Orders</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-EditForm-Query.html" class="sidebar-link">Query Responsibility</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-EditForm-State.html" class="sidebar-link">Adding/Removing Items</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-EditForm-Command.html" class="active sidebar-link">Command Responsibility</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-Save.html" class="sidebar-link">Saving an Order</a></li><li><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-Place.html" class="sidebar-link">Placing an Order</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="command-responsibility"><a href="#command-responsibility" aria-hidden="true" class="header-anchor">#</a> Command Responsibility</h1> <p>Editing the order is done by adding and removing order items as well as selecting the shipper, setting the freight, and entering the date that the order is required. None of these editing actions perform an update on the database directly. Rather, the changes are simply preserved on the form itself through the form's code-behind.</p> <blockquote><p><img src="/2018-Sep-In-Class/assets/img/Form-State-Edit-Order.47f6c12d.png" alt="Form State"></p></blockquote> <p>Once all the editing is done, the user can either <strong>Save</strong> or <strong>Place</strong> the order. Both of these actions are performed as distinct transactions, meaning that all the relevant data from the form is sent to the BLL through a DTO.</p> <blockquote><p><img src="/2018-Sep-In-Class/assets/img/Command-Save-Order.f95844dd.png" alt="Save Order"></p></blockquote> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EditOrderItem</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> ProductId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">decimal</span> UnitPrice <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">short</span> OrderQuantity <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> DiscountPercent <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EditCustomerOrder</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> OrderId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> EmployeeId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> DateTime<span class="token operator">?</span> OrderDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> DateTime<span class="token operator">?</span> RequiredDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token operator">?</span> ShipperId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">decimal</span><span class="token operator">?</span> FreightCharge <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> IEnumerable<span class="token operator">&lt;</span>EditOrderItem<span class="token operator">&gt;</span> OrderItems <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/15/2018, 7:26:48 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-EditForm-State.html" class="prev">
          Adding/Removing Items
        </a></span> <span class="next"><a href="/2018-Sep-In-Class/2018/CustomerOrders/customerOrders-Save.html">
          Saving an Order
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/2018-Sep-In-Class/assets/js/7.a29bec37.js" defer></script><script src="/2018-Sep-In-Class/assets/js/app.19eb8275.js" defer></script>
  </body>
</html>
